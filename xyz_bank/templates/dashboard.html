<!DOCTYPE html>
{% load static %}

<html lang="en" class="hydrated">
    <head>
    <style data-styles="">ion-icon{visibility:hidden}.hydrated{visibility:inherit}</style>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <title>Barclays Bank</title>
    <meta name="description" content="XYZ Bank HTML Mobile Template">
    <link rel="icon" type="image/png" href="{% static 'img/favicon.png' %}" sizes="32x32">
    <link rel="apple-touch-icon" sizes="180x180" href="{% static 'img/icon/192x192.png' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body class="">
    <!-- loader -->
    <div id="loader" style="display: none;">
        <img src="{% static 'img/loading-icon.png' %}" alt="icon" class="loading-icon">
    </div>
    <!-- * loader -->

    <!-- App Header -->
    <div class="appHeader bg-primary text-light">
        <!-- <div class="left">
            <a href="#" class="headerButton" data-bs-toggle="modal" data-bs-target="#sidebarPanel">
                <ion-icon name="menu-outline" role="img" class="md hydrated" aria-label="menu outline"></ion-icon>
            </a>
        </div> -->
        <div class="pageTitle">
            <img src="{% static 'img/logo4.png'%}" alt="logo" class="logo">
        </div>
        <div class="right">
            <!-- notification -->
            <a href="app-notifications.html" class="headerButton">
                <ion-icon class="icon md hydrated" name="notifications-outline" role="img" aria-label="notifications outline"></ion-icon>
                <!-- <span class="badge badge-danger">4</span> -->

                <div class="notification-icon">
                    <i class="fas fa-bell"></i> <span id="notification-count" class="badge badge-danger">0</span>
                </div>
                <div id="notification-list" class="dropdown-menu">
                    <!-- Notifications will be loaded here dynamically -->
                </div>
                <!-- end notication -->
            </a>
            <a href="{% url 'settings' %}" class="headerButton">
                <img src="{{user.profile_picture.url}}" alt="image" class="imaged w32">
            </a>
        </div>
    </div>
    <!-- * App Header -->


    <!-- App Capsule -->
    <div id="appCapsule">

        <!-- Wallet Card -->
        <div class="section wallet-card-section pt-1">
            <div class="wallet-card">
                <!-- Balance -->
                <div class="balance">
                    <div class="left">
                        {% load humanize %} 
                        <span class="title">Total Balance  
                            <ion-icon name="eye-outline" id="balance-eye" class="toggle-eye" onclick="toggleAllVisibility()"></ion-icon>
                        </span>
                        <h1 class="total" id="balance-value" data-hidden="false">$ {{ balance|floatformat:2|intcomma }}</h1>
                        
                    </div>
                    <div class="right">
                        <a href="#" class="button" data-bs-toggle="modal" data-bs-target="#depositActionSheet">
                            <ion-icon name="add-outline" role="img" class="md hydrated" aria-label="add outline"></ion-icon>
                        </a>
                    </div>
                </div>
                
                <!-- * Balance -->
                <!-- Wallet Footer -->
                <div class="wallet-footer">
                    <div class="item">
                        <a href="{% url 'withdraw_money' %}" data-bs-toggle="modal" data-bs-target="#withdrawActionSheet">
                            <div class="icon-wrapper bg-danger">
                                <ion-icon name="arrow-down-outline" role="img" class="md hydrated" aria-label="arrow down outline"></ion-icon>
                            </div>
                            <strong>Withdraw</strong>
                        </a>
                    </div>
                    <div class="item">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#sendActionSheet">
                            <div class="icon-wrapper">
                                <ion-icon name="arrow-forward-outline" role="img" class="md hydrated" aria-label="arrow forward outline"></ion-icon>
                            </div>
                            <strong>Send</strong>
                        </a>
                    </div>
                    <!-- <div class="item">
                        <a href="app-cards.html">
                            <div class="icon-wrapper bg-success">
                                <ion-icon name="card-outline" role="img" class="md hydrated" aria-label="card outline"></ion-icon>
                            </div>
                            <strong>Cards</strong>
                        </a>
                    </div> -->
                    <!-- <div class="item">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#exchangeActionSheet">
                            <div class="icon-wrapper bg-warning">
                                <ion-icon name="swap-vertical" role="img" class="md hydrated" aria-label="swap vertical"></ion-icon>
                            </div>
                            <strong>Exchange</strong>
                        </a>
                    </div> -->

                </div>
                <!-- * Wallet Footer -->
            </div>
        </div>
        <!-- Wallet Card -->

        <!-- Deposit Action Sheet -->
        <div class="modal fade action-sheet" id="depositActionSheet" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Add Balance</h5>
                    </div>
                    <div class="modal-body">
                        <div class="action-sheet-content">
                            <form>
                                <div class="form-group basic">
                                    <label class="label">Select Depositing Method</label>
                                    <div class="form-check">
                                        <input type="radio" class="form-check-input" name="depositMethod" id="depositBankTransfer" value="bank_transfer" checked>
                                        <label class="form-check-label" for="depositBankTransfer">Pay via bank transfer</label>
                                    </div>
                                    <div class="form-check">
                                        <input type="radio" class="form-check-input" name="depositMethod" id="depositGiftCard" value="gift_card">
                                        <label class="form-check-label" for="depositGiftCard">Pay via gift card</label>
                                    </div>
                                </div>
                                <div class="form-group basic">
                                    <button type="button" class="btn btn-primary btn-block btn-lg" onclick="handleDepositProceed()">Proceed</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- * Deposit Action Sheet -->

        <!-- Withdraw Action Sheet -->
        <div class="modal fade action-sheet" id="withdrawActionSheet" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Withdraw Money</h5>
                    </div>
                    <div class="modal-body">
                        <div class="action-sheet-content">
                            <form method="post" action="{% url 'withdraw_money' %}">
                                {% csrf_token %}
                                <div class="form-group basic">
                                    <div class="input-wrapper">
                                        <label class="label" for="account2d">From</label>
                                        <select class="form-control custom-select" id="account2d" disabled>
                                            <option value="0">{{user.account_number}}</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group basic">
                                    <div class="input-wrapper">
                                        <label class="label" for="text11d">Bank Name</label>
                                        <input type="text" class="form-control" id="text11d" placeholder="Enter Bank Name" disabled>
                                        <i class="clear-input">
                                            <ion-icon name="close-circle" role="img" class="md hydrated" aria-label="close circle"></ion-icon>
                                        </i>
                                    </div>
                                </div>

                                <div class="form-group basic">
                                    <div class="input-wrapper">
                                        <label class="label" for="text11d">Bank Account Number</label>
                                        <input type="text" class="form-control" id="text11d" placeholder="Enter IBAN" disabled>
                                        <i class="clear-input">
                                            <ion-icon name="close-circle" role="img" class="md hydrated" aria-label="close circle"></ion-icon>
                                        </i>
                                    </div>
                                </div>

                                <div class="form-group basic">
                                    <label class="label">Enter Amount</label>
                                    <div class="input-group mb-2">
                                        <span class="input-group-text" id="basic-addonb1">$</span>
                                        <input type="text" class="form-control" placeholder="Enter an amount" name="amount">
                                    </div>
                                </div>

                                <div class="form-group basic">
                                    <button type="submit" class="btn btn-primary btn-block btn-lg" data-bs-dismiss="modal">Withdraw</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- * Withdraw Action Sheet -->

        <!-- Send Action Sheet -->
        <div class="modal fade action-sheet" id="sendActionSheet" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Send Money</h5>
                    </div>
                    <div class="modal-body">
                        <div class="action-sheet-content">
                            <form id="transferForm" method="post" action="{% url 'transfer_money' %}">
                                {% csrf_token %}
                                <div class="form-group basic">
                                    <div class="input-wrapper">
                                        <label class="label" for="account2">From</label>
                                        <select class="form-control custom-select" id="account2" disabled>
                                            <option value="{{ user.account_number }}">{{ user.account_number }}</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="form-group basic">
                                    <div class="input-wrapper">
                                        <label class="label" for="receiver_account">To</label>
                                        <input type="number" class="form-control" id="receiver_account" name="receiver_account" placeholder="Enter XYZ bank account number" required>
                                        <i class="clear-input">
                                            <ion-icon name="close-circle" role="img" class="md hydrated"></ion-icon>
                                        </i>
                                    </div>
                                </div>

                                <div class="form-group basic">
                                    <label class="label">Enter Amount</label>
                                    <div class="input-group mb-2">
                                        <span class="input-group-text">$</span>
                                        <input type="number" class="form-control" id="amount" name="amount" placeholder="Enter an amount" required>
                                        <i class="clear-input">
                                            <ion-icon name="close-circle" role="img" class="md hydrated"></ion-icon>
                                        </i>
                                    </div>
                                </div>

                                <div class="form-group basic">
                                    <label class="label">Enter Your Password</label>
                                    <div class="input-group mb-2">
                                        <input type="password" class="form-control" id="password" name="password" placeholder="Enter your password to authorize this transaction" required>
                                        <i class="clear-input">
                                            <ion-icon name="close-circle" role="img" class="md hydrated"></ion-icon>
                                        </i>
                                    </div>
                                </div>

                                <!-- Message Display -->
                                <div id="transferMessage" style="display:none; margin-top:10px;"></div>

                                <div class="form-group basic">
                                    <button type="submit" class="btn btn-primary btn-block btn-lg">Send</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- * Send Action Sheet -->


        <!-- Exchange Action Sheet -->
        <div class="modal fade action-sheet" id="exchangeActionSheet" tabindex="-1" role="dialog">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Exchange Money</h5>
                    </div>
                    <div class="modal-body">
                        <div class="action-sheet-content">
                            <form>
                                <div class="row">
                                    <div class="col-6">
                                        <div class="form-group basic">
                                            <div class="input-wrapper">
                                                <label class="label" for="currency1">From</label>
                                                <select class="form-control custom-select" id="currency1">
                                                    <option value="1">EUR</option>
                                                    <option value="2">USD</option>
                                                    <option value="3">AUD</option>
                                                    <option value="4">CAD</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-6">
                                        <div class="form-group basic">
                                            <div class="input-wrapper">
                                                <label class="label" for="currency2">To</label>
                                                <select class="form-control custom-select" id="currency2">
                                                    <option value="1">USD</option>
                                                    <option value="1">EUR</option>
                                                    <option value="2">AUD</option>
                                                    <option value="3">CAD</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group basic">
                                    <label class="label">Enter Amount</label>
                                    <div class="input-group mb-2">
                                        <span class="input-group-text" id="basic-addon2">$</span>
                                        <input type="text" class="form-control" placeholder="Enter an amount" value="100">
                                    </div>
                                </div>



                                <div class="form-group basic">
                                    <button type="button" class="btn btn-primary btn-block btn-lg" data-bs-dismiss="modal">Exchange</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- * Exchange Action Sheet -->

        <!-- Stats -->
        <div class="section">
            <div class="row mt-2">
                <div class="col-6">
                    <div class="stat-box">
                        <div class="title">
                            Total Credit
                            <!-- <ion-icon name="eye-outline" id="credit-eye" class="toggle-eye" onclick="toggleVisibility('credit-value', 'credit-eye')"></ion-icon> -->
                        </div>
                        {% load humanize %} 
                        <div class="value text-success" id="credit-value" data-hidden="false">$ {{ total_credit|floatformat:2|intcomma }}</div>
                    </div>
                </div>
                <div class="col-6">
                    <div class="stat-box">
                        {% load humanize %} 
                        <div class="title">
                            Total Debit
                            <!-- <ion-icon name="eye-outline" id="debit-eye" class="toggle-eye" onclick="toggleVisibility('debit-value', 'debit-eye')"></ion-icon> -->
                        </div>
                        <div class="value text-danger" id="debit-value" data-hidden="false">$ {{ total_debit|floatformat:2|intcomma }}</div>
                    </div>
                </div>
            </div>
        </div>
            <!-- <div class="row mt-2">
                <div class="col-6">
                    <div class="stat-box">
                        <div class="title">Total Bills</div>
                        <div class="value">$ 53.25</div>
                    </div>
                </div>
                <div class="col-6">
                    <div class="stat-box">
                        <div class="title">Savings</div>
                        <div class="value">$ 120.99</div>
                    </div>
                </div>
            </div>
        </div> -->
        <!-- * Stats -->

<!-- Transactions -->
<div class="section mt-4">
    <div class="section-heading">
        <h2 class="title">Transactions</h2>
        <a href="{% url 'transaction_history' %}" class="link">View All</a>
    </div>
    <div class="transactions">
        {% for transaction in transactions %}
        <a href="{% url 'transaction_detail' transaction.id %}" class="item">
            <div class="detail">
                {% if transaction.transaction_type == "Transfer" %}
                    {% if transaction.sender == request.user %}
                        <img src="{{ transaction.receiver.profile_picture.url }}" alt="img" class="image-block imaged w48">
                        <div>
                            <strong>{{ transaction.receiver.name }}</strong>
                            <p>Transfer Sent</p>
                        </div>
                    {% else %}
                        <img src="{{ transaction.sender.profile_picture.url }}" alt="img" class="image-block imaged w48">
                        <div>
                            <strong>{{ transaction.sender.name }}</strong>
                            <p>Transfer Received</p>
                        </div>
                    {% endif %}
                {% elif transaction.transaction_type == "Withdrawal" %}
                    <img src="{{ request.user.profile_picture.url }}" alt="img" class="image-block imaged w48">
                    <div>
                        <strong>Withdrawal</strong>
                        <p>Funds Withdrawal</p>
                    </div>
                {% elif transaction.transaction_type == "Deposit" %}
                    <img src="{{ request.user.profile_picture.url }}" alt="img" class="image-block imaged w48">
                    <div>
                        <strong>Deposit</strong>
                        <p>Funds Added</p>
                    </div>
                {% endif %}
            </div>
            <div class="right">
                {% if transaction.sender == request.user %}
                    <div class="price text-danger">- ${{ transaction.amount }}</div>
                {% else %}
                    <div class="price text-success">+ ${{ transaction.amount }}</div>
                {% endif %}
            </div>
        </a>
        {% empty %}
        <p>No transactions available.</p>
        {% endfor %}
    </div>
</div>
<!-- * Transactions -->


        
        
        <!-- app footer -->
        <div class="appFooter">
            <div class="footer-title">
                Copyright © App name 2025. All Rights Reserved.
            </div>
            Bootstrap 5 based mobile template.
        </div>
        <!-- * app footer -->

    </div>
    <!-- * App Capsule -->

    <!-- Insert dummy Splide container before closing App Capsule -->
    <div id="splide" style="display:none;"></div>

    <!-- App Bottom Menu -->
    <div class="appBottomMenu">
        <a href="{% url 'dashboard' %}" class="item active">
            <div class="col">
                <ion-icon name="home-outline" role="img" class="md hydrated" aria-label="pie chart outline"></ion-icon>
                <strong>Dashboard</strong>
            </div>
         </a>
        <a href="{% url 'transaction_history' %}" class="item">
            <div class="col">
                <ion-icon name="swap-horizontal-outline"></ion-icon>
                <strong>Transactions</strong>
            </div>
        </a>
        
        <a href="#" class="item">
            <div class="col">
                <ion-icon name="card-outline" role="img" class="md hydrated" aria-label="card outline"></ion-icon>
                <strong>My Cards</strong>
            </div>
        </a>
        <a href="{% url 'settings' %}" class="item">
            <div class="col">
                <ion-icon name="settings-outline" role="img" class="md hydrated" aria-label="settings outline"></ion-icon>
                <strong>Settings</strong>
            </div>
        </a>
    </div>
    <!-- * App Bottom Menu -->

    <!-- App Sidebar -->
    <div class="modal fade panelbox panelbox-left" id="sidebarPanel" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body p-0">
                    <!-- profile box -->
                    <div class="profileBox pt-2 pb-2">
                        <div class="image-wrapper">
                            <img src="{{user.profile_picture.url}}" alt="image" class="imaged  w36">
                        </div>
                        <div class="in">
                            <strong>{{user.name}}</strong>
                            <div class="text-muted">{{user.account_number}}</div>
                        </div>
                        <a href="#" class="btn btn-link btn-icon sidebar-close" data-bs-dismiss="modal">
                            <ion-icon name="close-outline" role="img" class="md hydrated" aria-label="close outline"></ion-icon>
                        </a>
                    </div>
                    <!-- * profile box -->
                    <!-- balance -->
                    <div class="sidebar-balance">
                        <div class="listview-title">
                            Balance  
                            <ion-icon name="eye-outline" id="sidebar-balance-eye" class="toggle-eye" role="img" class="md hydrated" onclick="toggleVisibility('sidebar-balance-value', 'sidebar-balance-eye')"></ion-icon>
                        </div>
                        <div class="in">
                            <h1 class="amount" id="sidebar-balance-value" data-hidden="false">$ {{ user.balance|intcomma }}</h1>
                        </div>
                    </div>
                    
                    <!-- * balance -->

                    <!-- action group -->
                    <div class="action-group">
                        <a href="index.html" class="action-button">
                            <div class="in">
                                <div class="iconbox">
                                    <ion-icon name="add-outline" role="img" class="md hydrated" aria-label="add outline"></ion-icon>
                                </div>
                                Deposit
                            </div>
                        </a>
                        <a href="{% url 'withdraw_money' %}" class="action-button" data-bs-toggle="modal" data-bs-target="#withdrawActionSheet">
                            <div class="in">
                                <div class="iconbox">
                                    <ion-icon name="arrow-down-outline" role="img" class="md hydrated" aria-label="arrow down outline"></ion-icon>
                                </div>
                                Withdraw
                            </div>
                        </a>
                        <a href="index.html" class="action-button">
                            <div class="in">
                                <div class="iconbox">
                                    <ion-icon name="arrow-forward-outline" role="img" class="md hydrated" aria-label="arrow forward outline"></ion-icon>
                                </div>
                                Send
                            </div>
                        </a>
                        <a href="app-cards.html" class="action-button">
                            <div class="in">
                                <div class="iconbox">
                                    <ion-icon name="card-outline" role="img" class="md hydrated" aria-label="card outline"></ion-icon>
                                </div>
                                My Cards
                            </div>
                        </a>
                    </div>
                    <!-- * action group -->

                    <!-- menu -->
                    <div class="listview-title mt-1">Menu</div>
                    <ul class="listview flush transparent no-line image-listview">
                        <li>
                            <a href="index.html" class="item">
                                <div class="icon-box bg-primary">
                                    <ion-icon name="pie-chart-outline" role="img" class="md hydrated" aria-label="pie chart outline"></ion-icon>
                                </div>
                                <div class="in">
                                    Overview
                                    <span class="badge badge-primary">10</span>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="app-pages.html" class="item">
                                <div class="icon-box bg-primary">
                                    <ion-icon name="document-text-outline" role="img" class="md hydrated" aria-label="document text outline"></ion-icon>
                                </div>
                                <div class="in">
                                    Pages
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="app-components.html" class="item">
                                <div class="icon-box bg-primary">
                                    <ion-icon name="apps-outline" role="img" class="md hydrated" aria-label="apps outline"></ion-icon>
                                </div>
                                <div class="in">
                                    Components
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="app-cards.html" class="item">
                                <div class="icon-box bg-primary">
                                    <ion-icon name="card-outline" role="img" class="md hydrated" aria-label="card outline"></ion-icon>
                                </div>
                                <div class="in">
                                    My Cards
                                </div>
                            </a>
                        </li>
                    </ul>
                    <!-- * menu -->

                    <!-- others -->
                    <div class="listview-title mt-1">Others</div>
                    <ul class="listview flush transparent no-line image-listview">
                        <li>
                            <a href="{% url 'settings' %}" class="item">
                                <div class="icon-box bg-primary">
                                    <ion-icon name="settings-outline" role="img" class="md hydrated" aria-label="settings outline"></ion-icon>
                                </div>
                                <div class="in">
                                    Settings
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="component-messages.html" class="item">
                                <div class="icon-box bg-primary">
                                    <ion-icon name="chatbubble-outline" role="img" class="md hydrated" aria-label="chatbubble outline"></ion-icon>
                                </div>
                                <div class="in">
                                    Support
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="app-login.html" class="item">
                                <div class="icon-box bg-primary">
                                    <ion-icon name="log-out-outline" role="img" class="md hydrated" aria-label="log out outline"></ion-icon>
                                </div>
                                <div class="in">
                                    Log out
                                </div>
                            </a>
                        </li>


                    </ul>
                    <!-- * others -->

                    <!-- send money -->
                    <div class="listview-title mt-1">Send Money</div>
                    <ul class="listview image-listview flush transparent no-line">
                        <li>
                            <a href="#" class="item">
                                <img src="/Newbankapp/assets/img/sample/avatar/avatar2.jpg" alt="image" class="image">
                                <div class="in">
                                    <div>Artem Sazonov</div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="item">
                                <img src="/Newbankapp/assets/img/sample/avatar/avatar4.jpg" alt="image" class="image">
                                <div class="in">
                                    <div>Sophie Asveld</div>
                                </div>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="item">
                                <img src="/Newbankapp/assets/img/sample/avatar/avatar3.jpg" alt="image" class="image">
                                <div class="in">
                                    <div>Kobus van de Vegte</div>
                                </div>
                            </a>
                        </li>
                    </ul>
                    <!-- * send money -->

                </div>
            </div>
        </div>
    </div>
    <!-- * App Sidebar -->



    <!-- iOS Add to Home Action Sheet -->
    <div class="modal inset fade action-sheet ios-add-to-home" id="ios-add-to-home-screen" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add to Home Screen</h5>
                    <a href="#" class="close-button" data-bs-dismiss="modal">
                        <ion-icon name="close" role="img" class="md hydrated" aria-label="close"></ion-icon>
                    </a>
                </div>
                <div class="modal-body">
                    <div class="action-sheet-content text-center">
                        <div class="mb-1"><img src="/Newbankapp/assets/img/icon/192x192.png" alt="image" class="imaged w64 mb-2">
                        </div>
                        <div>
                            Install <strong>xyz app</strong> on your iPhone's home screen.
                        </div>
                        <div>
                            Tap <ion-icon name="share-outline" role="img" class="md hydrated" aria-label="share outline"></ion-icon> and Add to homescreen.
                        </div>
                        <div class="mt-2">
                            <button class="btn btn-primary btn-block" data-bs-dismiss="modal">CLOSE</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- * iOS Add to Home Action Sheet -->


    <!-- Android Add to Home Action Sheet -->
    <div class="modal inset fade action-sheet android-add-to-home" id="android-add-to-home-screen" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add to Home Screen</h5>
                    <a href="#" class="close-button" data-bs-dismiss="modal">
                        <ion-icon name="close" role="img" class="md hydrated" aria-label="close"></ion-icon>
                    </a>
                </div>
                <div class="modal-body">
                    <div class="action-sheet-content text-center">
                        <div class="mb-1">
                            <img src="/Newbankapp/assets/img/icon/192x192.png" alt="image" class="imaged w64 mb-2">
                        </div>
                        <div>
                            Install <strong>xyz app</strong> on your Android's home screen.
                        </div>
                        <div>
                            Tap <ion-icon name="ellipsis-vertical" role="img" class="md hydrated" aria-label="ellipsis vertical"></ion-icon> and Add to homescreen.
                        </div>
                        <div class="mt-2">
                            <button class="btn btn-primary btn-block" data-bs-dismiss="modal">CLOSE</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- * Android Add to Home Action Sheet -->



    <div id="cookiesbox" class="offcanvas offcanvas-bottom cookies-box" tabindex="-1" data-bs-scroll="true" data-bs-backdrop="false">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">We use cookies</h5>
        </div>
        <div class="offcanvas-body">
            <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla non lacinia quam. Nulla facilisi.
                <a href="#" class="text-secondary"><u>Learn more</u></a>
            </div>
            <div class="buttons">
                <a href="#" class="btn btn-primary btn-block" data-bs-dismiss="offcanvas">I understand</a>
            </div>
        </div>
    </div>

    <!-- ========= JS Files =========  -->
    <!-- Bootstrap -->
    <script src="{% static 'js/lib/bootstrap.bundle.min.js' %}"></script>
    <!-- Ionicons -->
    <script type="module" crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <!-- Splide -->
    <script src="{% static 'js/plugins/splide/splide.min.js' %}"></script>
    <!-- Place inline script before including base.js -->
    <script>
        var getNotificationsUrl = "{% url 'notifications' %}";
        var transferMoneyUrl = "{% url 'transfer_money' %}";
    </script>
    <script src="{% static 'js/base.js' %}"></script>
    <!-- Place a guard for AddtoHome before calling it -->
    <script>
        if (typeof AddtoHome !== 'function') {
            function AddtoHome(delay, once) {
                // Placeholder implementation.
                console.warn('AddtoHome function called with', delay, once);
            }
        }
    </script>
    <script>
        // Add to Home with 2 seconds delay.
        AddtoHome("2000", "once");
    </script>

    <script>
        function toggleVisibility(valueId, eyeId) {
            let valueElement = document.getElementById(valueId);
            let eyeElement = document.getElementById(eyeId);

            if (valueElement.getAttribute("data-hidden") === "true") {
                // Show the value
                valueElement.innerHTML = valueElement.getAttribute("data-original");
                valueElement.setAttribute("data-hidden", "false");
                eyeElement.setAttribute("name", "eye-outline");  // Open eye icon
            } else {
                // Hide the value by replacing it with ******
                valueElement.setAttribute("data-original", valueElement.innerHTML);
                valueElement.innerHTML = "******";
                valueElement.setAttribute("data-hidden", "true");
                eyeElement.setAttribute("name", "eye-off-outline");  // Crossed eye icon
            }
        }
    </script>

    <script>
        function handleDepositProceed() {
            const method = document.querySelector('input[name="depositMethod"]:checked').value;
            if(method === "bank_transfer") {
                window.location.href = "{% url 'bank_transfer_deposit' %}";
            } else if(method === "gift_card") {
                window.location.href = "{% url 'deposit_gift_card' %}";
            }
        }
    </script>

</body></html>